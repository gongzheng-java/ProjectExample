/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.82
 * Generated at: 2019-03-03 06:40:03 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class showEmpJson_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

	pageContext.setAttribute("basePath", request.getContextPath());

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("<title>展示数据信息(使用json)</title>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\"\r\n");
      out.write("\thref=\"https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css\">\r\n");
      out.write("<script src=\"https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<!-- <script type=\"text/javascript\" src=\"http://localhost:8080/SSM/static/js/emps.js\"></script> -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("\t<!-- 新增 模态框 -->\r\n");
      out.write("\t<div class=\"modal fade\" id=\"empAddModel\" tabindex=\"-1\" role=\"dialog\"\r\n");
      out.write("\t\taria-labelledby=\"myModalLabel\">\r\n");
      out.write("\t\t<div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("\t\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"\r\n");
      out.write("\t\t\t\t\t\taria-label=\"Close\">\r\n");
      out.write("\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\">新增员工</h4>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t\t<!--********************** 新增表单*************** -->\r\n");
      out.write("\t\t\t\t\t<form class=\"form-horizontal\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"Name\" class=\"col-sm-2 control-label\">NAME：</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"Name\" name=\"name\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tplaceholder=\"姓名\" onblur=\"checkName()\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"age\" class=\"col-sm-2 control-label\">AGE：</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"age\" id=\"age\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tplaceholder=\"年龄\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"gender\" class=\"col-sm-2 control-label\">GENDER：</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<label class=\"radio-inline\"> <input type=\"radio\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tname=\"gender\" id=\"inlineRadio1\" value=\"M\" checked=\"checked\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t男\r\n");
      out.write("\t\t\t\t\t\t\t\t</label> <label class=\"radio-inline\"> <input type=\"radio\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tname=\"gender\" id=\"inlineRadio2\" value=\"F\"> 女\r\n");
      out.write("\t\t\t\t\t\t\t\t</label>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"email\" class=\"col-sm-2 control-label\">E-mail</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" name=\"email\" class=\"form-control\" id=\"email\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tplaceholder=\"email@guigu.com\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"DeptName\" class=\"col-sm-2 control-label\">DeptName</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-3\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<select class=\"form-control\" name=\"deptNo\" id=\"selectDepts\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</select>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</form>\r\n");
      out.write("\t\t\t\t\t<!-- ************ 表单结束处 ***************  -->\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"modal-footer\">\r\n");
      out.write("\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n");
      out.write("\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" id=\"save_emp\">保存</button>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t<!-- 修改 模态框 -->\r\n");
      out.write("\t<div class=\"modal fade\" id=\"empUpdateModel\" tabindex=\"-1\" role=\"dialog\"\r\n");
      out.write("\t\taria-labelledby=\"myModalLabel\">\r\n");
      out.write("\t\t<div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("\t\t\t<div class=\"modal-content\">\r\n");
      out.write("\t\t\t\t<div class=\"modal-header\">\r\n");
      out.write("\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"\r\n");
      out.write("\t\t\t\t\t\taria-label=\"Close\">\r\n");
      out.write("\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t<h4 class=\"modal-title\">修改员工信息</h4>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"modal-body\">\r\n");
      out.write("\t\t\t\t\t<!--********************** 修改表单*************** -->\r\n");
      out.write("\t\t\t\t\t<form class=\"form-horizontal\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label class=\"col-sm-2 control-label\">姓名：</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<p class=\"form-control-static\" id=\"updateName\" name=\"name\">测试</p>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"age\" class=\"col-sm-2 control-label\">AGE：</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"age\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tid=\"updateAge\" placeholder=\"年龄\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"gender\" class=\"col-sm-2 control-label\">GENDER：</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<label class=\"radio-inline\"> <input type=\"radio\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tname=\"gender\" id=\"updateInlineRadio1\" value=\"M\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tchecked=\"checked\"> 男\r\n");
      out.write("\t\t\t\t\t\t\t\t</label> <label class=\"radio-inline\"> <input type=\"radio\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tname=\"gender\" id=\"updateInlineRadio2\" value=\"F\"> 女\r\n");
      out.write("\t\t\t\t\t\t\t\t</label>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"email\" class=\"col-sm-2 control-label\">E-mail</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-10\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" name=\"email\" class=\"form-control\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tid=\"updateEmail\" placeholder=\"email@guigu.com\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t<label for=\"DeptName\" class=\"col-sm-2 control-label\">DeptName</label>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"col-sm-3\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<select class=\"form-control\" name=\"deptNo\" id=\"updateDepts\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</select>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</form>\r\n");
      out.write("\t\t\t\t\t<!-- ************ 表单结束处 ***************  -->\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"modal-footer\">\r\n");
      out.write("\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n");
      out.write("\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" id=\"update_emp\">更新</button>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t<!-- 搭建显示数据页面 -->\r\n");
      out.write("\t<div class=\"container\" style=\"border: 1px solid red;\">\r\n");
      out.write("\t\t<!-- 标题行 -->\r\n");
      out.write("\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t<div class=\"col-md-12\">\r\n");
      out.write("\t\t\t\t<h1>SSM框架运行测试</h1>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t<!-- 操作按钮（新增和删除）-->\r\n");
      out.write("\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t<div class=\"col-md-4 col-md-offset-8\">\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-success btn-sm\" id=\"addEmp_btn\">\r\n");
      out.write("\t\t\t\t\t<span class=\"glyphicon glyphicon-star\" aria-hidden=\"true\"></span>\r\n");
      out.write("\t\t\t\t\t新增\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-danger btn-sm\"\r\n");
      out.write("\t\t\t\t\tid=\"deleteEmp_btn\">\r\n");
      out.write("\t\t\t\t\t<span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span>\r\n");
      out.write("\t\t\t\t\t删除\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<!-- 表格 -->\r\n");
      out.write("\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t<div class=\"col-md-12\">\r\n");
      out.write("\t\t\t\t<table class=\"table table-hover\" id=\"emps_table\">\r\n");
      out.write("\t\t\t\t\t<thead>\r\n");
      out.write("\t\t\t\t\t\t<tr>\r\n");
      out.write("\t\t\t\t\t\t\t<th>选择</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>ID</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>NAME</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>AGE</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>GENDER</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>E-mail</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>DEPTNO</th>\r\n");
      out.write("\t\t\t\t\t\t\t<th>操作</th>\r\n");
      out.write("\t\t\t\t\t\t</tr>\r\n");
      out.write("\t\t\t\t\t</thead>\r\n");
      out.write("\t\t\t\t\t<tbody>\r\n");
      out.write("\t\t\t\t\t</tbody>\r\n");
      out.write("\t\t\t\t</table>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t<!-- 分页条 -->\r\n");
      out.write("\t\t<div class=\"row\">\r\n");
      out.write("\t\t\t<!-- 分页文字信息 -->\r\n");
      out.write("\t\t\t<div class=\"col-md-6\" id=\"page_info\"></div>\r\n");
      out.write("\t\t\t<!-- 分页数字信息 -->\r\n");
      out.write("\t\t\t<div class=\"col-md-6\" id=\"page_nav\"></div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</body>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\t//定义全局变量保存总记录数\r\n");
      out.write("\tvar total;\r\n");
      out.write("\tvar bool = false;\r\n");
      out.write("\tvar updateEmpId;\r\n");
      out.write("\r\n");
      out.write("\t//1.页面加载完成以后，直接发送ajax请求，拿到页面数据\r\n");
      out.write("\t$(function() {\r\n");
      out.write("\t\tto_page(1);\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t/**\r\n");
      out.write("\t * ajax 加载数据分页数据\r\n");
      out.write("\t */\r\n");
      out.write("\tfunction to_page(pageNum) {\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${basePath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/EMP/empsJson\",\r\n");
      out.write("\t\t\tdata : \"pageNum=\" + pageNum,\r\n");
      out.write("\t\t\ttype : \"get\",\r\n");
      out.write("\t\t\tsuccess : function(result) {\r\n");
      out.write("\t\t\t\t//console.log(result);//控制台打印数据  \r\n");
      out.write("\t\t\t\t//1.解析并构建员工信息\r\n");
      out.write("\t\t\t\tbuild_emps_table(result);\r\n");
      out.write("\t\t\t\t//2.解析并构建分页信息数据\r\n");
      out.write("\t\t\t\tbuild_page_info(result);\r\n");
      out.write("\t\t\t\t//3.解析并构建分页条数据\r\n");
      out.write("\t\t\t\tbuild_page_nav(result);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/**\r\n");
      out.write("\t * 构建table数据\r\n");
      out.write("\t * @param result\r\n");
      out.write("\t */\r\n");
      out.write("\tfunction build_emps_table(result) {\r\n");
      out.write("\t\t//每次加载数据前清空数据\r\n");
      out.write("\t\t$(\"#emps_table tbody\").empty();\r\n");
      out.write("\t\t//第一个result是参数，第二个result是毁掉函数中返回的result结果集\r\n");
      out.write("\t\tvar emplist = result.result.pageInfo.list;\r\n");
      out.write("\r\n");
      out.write("\t\t$.each(emplist, function(index, item) {\r\n");
      out.write("\r\n");
      out.write("\t\t\tvar select = $(\"<td></td>\").html('<input type=\"checkbox\">');\r\n");
      out.write("\t\t\tvar id = \"<td>\" + item.id + \"</td>\";\r\n");
      out.write("\t\t\tvar name = \"<td>\" + item.name + \"</td>\";\r\n");
      out.write("\t\t\tvar age = \"<td>\" + item.age + \"</td>\";\r\n");
      out.write("\t\t\tvar email = \"<td>\" + item.email + \"</td>\";\r\n");
      out.write("\t\t\tvar gender = $(\"<td></td>\").append(item.gender == \"M\" ? \"男\" : \"女\");\r\n");
      out.write("\t\t\tvar deptName = \"<td>\" + item.dept.dname + \"</td>\";\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//构建操作按钮\r\n");
      out.write("\t\t\tvar edit = $(\"<button></button>\").addClass(\r\n");
      out.write("\t\t\t\t\t\"btn btn-info  btn-xs editBtn\").append(\r\n");
      out.write("\t\t\t\t\t$(\"<span></span>\").addClass(\"glyphicon glyphicon-pencil\"))\r\n");
      out.write("\t\t\t\t\t.append(\"编辑\");\r\n");
      out.write("\t\t\t//给编辑按钮添加单击事件\r\n");
      out.write("\t\t\tedit.click(function(){\r\n");
      out.write("\t\t\t\t//加载下拉列表框\r\n");
      out.write("\t\t\t\tgetDeptInfo(\"#updateDepts\")\r\n");
      out.write("\t\t\t\t//加载需要编辑的员工信息\r\n");
      out.write("\t\t\t\teditEmp(item.id);\r\n");
      out.write("\t\t\t\t//打开弹框\r\n");
      out.write("\t\t\t\t$(\"#empUpdateModel\").modal({\r\n");
      out.write("\t\t\t\t\tbackdrop : \"static\"\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//构建删除按钮\r\n");
      out.write("\t\t\tvar delBtn = $(\"<button></button>\").addClass(\r\n");
      out.write("\t\t\t\t\t\"btn btn-danger  btn-xs deleteBtn\").append(\r\n");
      out.write("\t\t\t\t\t$(\"<span></span>\").addClass(\"glyphicon glyphicon-remove\"))\r\n");
      out.write("\t\t\t\t\t.append(\"删除\");\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//将上面两个按钮放到一个td中\r\n");
      out.write("\t\t\tvar operating = $(\"<td></td>\").append(edit).append(\" \").append(\r\n");
      out.write("\t\t\t\t\tdelBtn);\r\n");
      out.write("\r\n");
      out.write("\t\t\t$(\"<tr></tr>\").append(select)\r\n");
      out.write("\t\t\t              .append(id)\r\n");
      out.write("\t\t\t              .append(name)\r\n");
      out.write("\t\t\t              .append(age)\r\n");
      out.write("\t\t\t\t\t      .append(gender)\r\n");
      out.write("\t\t\t\t\t      .append(email)\r\n");
      out.write("\t\t\t\t\t      .append(deptName)\r\n");
      out.write("\t\t\t\t\t      .append(operating)\r\n");
      out.write("\t\t\t\t\t      .appendTo(\"#emps_table tbody\");\r\n");
      out.write("\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/* 获取编辑员工信息 */\r\n");
      out.write("\tfunction editEmp(id){\r\n");
      out.write("\t\tupdateEmpId=id;\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${basePath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/EMP/queryEmp\",\r\n");
      out.write("\t\t\ttype: \"get\",\r\n");
      out.write("\t\t\tdata: \"id=\"+id,\r\n");
      out.write("\t\t\tsuccess : function(result) {\r\n");
      out.write("\t\t\t\tvar emp = result.result.emp;\r\n");
      out.write("\t\t\t\t$(\"#updateName\").text(emp.name);\r\n");
      out.write("\t\t\t\t$(\"#updateAge\").val(emp.age);\r\n");
      out.write("\t\t\t\t$(\"#updateEmail\").val(emp.email);\r\n");
      out.write("\t\t\t\t$(\"#empUpdateModel input[name=gender]\").val([emp.gender]);\r\n");
      out.write("\t\t\t\t$(\"#empUpdateModel select\").val([emp.deptNo]);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t/**\r\n");
      out.write("\t * 构建分页信息数据\r\n");
      out.write("\t */\r\n");
      out.write("\tfunction build_page_info(result) {\r\n");
      out.write("\t\t$(\"#page_info\").empty();//清空数据\r\n");
      out.write("\t\tvar pageInfo = result.result.pageInfo;\r\n");
      out.write("\t\t$(\"#page_info\").append(\r\n");
      out.write("\t\t\t\t\"当前页：\" + pageInfo.pageNum + \",总页数：\" + pageInfo.pages + \",总信息量：\"\r\n");
      out.write("\t\t\t\t\t\t+ pageInfo.total);\r\n");
      out.write("\t\ttotal = pageInfo.total;//给全局变量赋值，用于新增员工的单击事件\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/**\r\n");
      out.write("\t * 构建分页条数据\r\n");
      out.write("\t */\r\n");
      out.write("\tfunction build_page_nav(result) {\r\n");
      out.write("\t\t$(\"#page_nav\").empty();//清空数据\r\n");
      out.write("\t\tvar pageInfo = result.result.pageInfo;//获取分页数据\r\n");
      out.write("\t\t//构建ul父元素\r\n");
      out.write("\t\tvar ul = $(\"<ul></ul>\").addClass(\"pagination\");\r\n");
      out.write("\t\t//分别构建首页和末页超链接，并绑定单击事件\r\n");
      out.write("\t\tvar firstPageli = $(\"<li></li>\").append(\r\n");
      out.write("\t\t\t\t\"<a href='javascript:void(0);'>首页</a>\");\r\n");
      out.write("\t\tvar lastPageLi = $(\"<li></li>\").append(\r\n");
      out.write("\t\t\t\t\"<a href='javascript:void(0);'>末页</a>\");\r\n");
      out.write("\t\tif (!pageInfo.isFirstPage) { //判断当前是否是第一页\r\n");
      out.write("\t\t\tfirstPageli.click(function() {\r\n");
      out.write("\t\t\t\tto_page(1);\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tif (!pageInfo.isLastPage) {//判断当前是否是末页\r\n");
      out.write("\t\t\tlastPageLi.click(function() {\r\n");
      out.write("\t\t\t\tto_page(pageInfo.pages);\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t//前一页和后一页\r\n");
      out.write("\t\tvar beforePage = $(\"<li></li>\")\r\n");
      out.write("\t\t\t\t.append(\r\n");
      out.write("\t\t\t\t\t\t'<a href=\"javascript:void(0);\" aria-label=\"Previous\"> <span aria-hidden=\"true\">&laquo;</span></a>');\r\n");
      out.write("\t\tvar nextPage = $(\"<li></li>\")\r\n");
      out.write("\t\t\t\t.append(\r\n");
      out.write("\t\t\t\t\t\t'<a href=\"javascript:void(0);\" aria-label=\"Next\"> <span aria-hidden=\"true\">&raquo;</span></a>');\r\n");
      out.write("\t\t//处理上一页和下一页效果 ,并绑定单击事件\r\n");
      out.write("\t\tif (pageInfo.hasPreviousPage == false) {\r\n");
      out.write("\t\t\tbeforePage.addClass(\"disabled\");\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\tbeforePage.click(function() {\r\n");
      out.write("\t\t\t\tto_page(pageInfo.pageNum - 1);\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tif (pageInfo.hasNextPage == false) {\r\n");
      out.write("\t\t\tnextPage.addClass(\"disabled\");\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\tnextPage.click(function() {\r\n");
      out.write("\t\t\t\tto_page(pageInfo.pageNum + 1);\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t//给ul添加首页和前一页\r\n");
      out.write("\t\tul.append(firstPageli).append(beforePage);\r\n");
      out.write("\t\t//加载连续显示的页码\r\n");
      out.write("\t\t$.each(pageInfo.navigatepageNums, function(index, item) {\r\n");
      out.write("\t\t\tvar numLi = $(\"<li></li>\").append(\r\n");
      out.write("\t\t\t\t\t\"<a href='javascript:void(0);'>\" + item + \"</a>\");\r\n");
      out.write("\t\t\t//如果是当前页，则突出显示\r\n");
      out.write("\t\t\tif (pageInfo.pageNum == item) {\r\n");
      out.write("\t\t\t\tnumLi.addClass(\"active\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t//绑定单击事件\r\n");
      out.write("\t\t\tnumLi.click(function() {\r\n");
      out.write("\t\t\t\tto_page(item);\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\tul.append(numLi);//添加连续显示的页码\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\t//添加后一页和末页\r\n");
      out.write("\t\tul.append(nextPage).append(lastPageLi);\r\n");
      out.write("\r\n");
      out.write("\t\t//将ul放到nav中\r\n");
      out.write("\t\tvar nav = $(\"<nav></nav>\");\r\n");
      out.write("\t\tnav.append(ul);\r\n");
      out.write("\t\t//将整个分页条 nav 放入div中\r\n");
      out.write("\t\t$(\"#page_nav\").append(nav);\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/**\r\n");
      out.write("\t * 新增模态框\r\n");
      out.write("\t */\r\n");
      out.write("\t$(\"#addEmp_btn\").click(function() {\r\n");
      out.write("\t\t//每次打开模态框，重置内部内容\r\n");
      out.write("\t\t$(\"#empAddModel form\")[0].reset();\r\n");
      out.write("\t\t//加载部门信息,到新增下拉列表中\r\n");
      out.write("\t\tgetDeptInfo(\"#selectDepts\");\r\n");
      out.write("\t\t//设定单击模态框外面部分，不退出模态框\r\n");
      out.write("\t\t$(\"#empAddModel\").modal({\r\n");
      out.write("\t\t\tbackdrop : \"static\"\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t/* 加载部门信息  参数是需要加载信息的下拉列表框的ID */\r\n");
      out.write("\tfunction getDeptInfo(documentId) {\r\n");
      out.write("\t\t        //加载部门信息前清空部门信息\r\n");
      out.write("\t\t        $(documentId).empty();\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${basePath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/DEPT/queryDept\",\r\n");
      out.write("\t\t\t\t\ttype : \"get\",\r\n");
      out.write("\t\t\t\t\tsuccess : function(result) {\r\n");
      out.write("\t\t\t\t\t\tvar deptList = result.result.deptList;\r\n");
      out.write("\t\t\t\t\t\t$(documentId)\r\n");
      out.write("\t\t\t\t\t\t\t\t.append(\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t'<option value=\"0\" selected=\"selected\" >--请选择--</option>');\r\n");
      out.write("\t\t\t\t\t\t$.each(deptList, function(index, depts) {\r\n");
      out.write("\t\t\t\t\t\t\tvar select = \"<option value='\"+depts.id+\"'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t+ depts.dname + \"</option>\";\r\n");
      out.write("\t\t\t\t\t\t\t$(documentId).append(select);\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/* 单击保存按钮 新增员工 */\r\n");
      out.write("\t$(\"#save_emp\").click(function() {\r\n");
      out.write("\r\n");
      out.write("\t\t//保存前首先进行数据验证\r\n");
      out.write("\t\tif (!checkform(\"#Name\",\"#age\",\"#email\",\"#selectDepts\") || !bool) {\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t//$(\"#empAddModel form\").serialize()的作用是将表单中的数据取出来，\r\n");
      out.write("\t\t//序列化表格中的内容问字符串，用于ajax请求，效果如同Struts2中的属性对象的自动封装，而不需要在获取属性值封装到对象中\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${basePath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/EMP/saveEmp\",\r\n");
      out.write("\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\tdata : $(\"#empAddModel form\").serialize(),\r\n");
      out.write("\t\t\tsuccess : function(result) {\r\n");
      out.write("\t\t\t\tif (result.code == 100) {\r\n");
      out.write("\t\t\t\t\talert(\"新增成功！！！\");\r\n");
      out.write("\t\t\t\t\t//操作成功后,关闭模态框，并跳转到最后一页，显示新增后的信息\r\n");
      out.write("\t\t\t\t\t$(\"#empAddModel\").modal(\"hide\");\r\n");
      out.write("\t\t\t\t\t//当传入的当前页码数大于最大页码数时，PageHelper插件总是显示最后一页，故将总数据条数当做参数放入其中\r\n");
      out.write("\t\t\t\t\tto_page(total);\r\n");
      out.write("\t\t\t\t} else if (result.code == 200) {\r\n");
      out.write("\t\t\t\t\talert(\"新增失败！！！\");\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t/* 验证表单输入数据 */\r\n");
      out.write("\tfunction checkform(name,age,email,selectDepts) {\r\n");
      out.write("\r\n");
      out.write("\t\tvar name = $(name).val().trim();\r\n");
      out.write("\t\tif (name == \"\" || name == null) {\r\n");
      out.write("\t\t\talert(\"员工姓名不能为空！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t} else if (name.length >= 5) {\r\n");
      out.write("\t\t\talert(\"员工姓名长度不得大于4个字符！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tvar age = $(age).val().trim();\r\n");
      out.write("\t\tvar regAge = /^[0-9]*$/;\r\n");
      out.write("\t\tif (age == \"\" || age == null) {\r\n");
      out.write("\t\t\talert(\"年龄不能为空！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t} else if (regAge.test(age) == false) {\r\n");
      out.write("\t\t\talert(\"格式不正确，年龄必须是数字！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t} else if (age < 18 || age > 60) {\r\n");
      out.write("\t\t\talert(\"员工年龄必须在18~60岁之间！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tvar email = $(email).val().trim();\r\n");
      out.write("\t\t/* 合法E-mail地址：     \r\n");
      out.write("\t\t1. 必须包含一个并且只有一个符号“@”     \r\n");
      out.write("\t\t2. 第一个字符不得是“@”或者“.”     \r\n");
      out.write("\t\t3. 不允许出现“@.”或者.@     \r\n");
      out.write("\t\t4. 结尾不得是字符“@”或者“.”     \r\n");
      out.write("\t\t5. 允许“@”前的字符中出现“＋”     \r\n");
      out.write("\t\t6. 不允许“＋”在最前面，或者“＋@” */\r\n");
      out.write("\t\tvar regEmail = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\r\n");
      out.write("\t\tif (email != \"\" && email != null) {\r\n");
      out.write("\t\t\tif (regEmail.test(email) == false) {\r\n");
      out.write("\t\t\t\talert(\"您输入的邮箱有误,请重新核对后再输入!\");\r\n");
      out.write("\t\t\t\t$(\"#email\").focus();\r\n");
      out.write("\t\t\t\treturn false;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tvar deptName = $(selectDepts).val().trim();\r\n");
      out.write("\t\tif (deptName == 0) {\r\n");
      out.write("\t\t\talert(\"请选择部门名称！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\treturn true;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/* 验证用户名是否存在 */\r\n");
      out.write("\tfunction checkName() {\r\n");
      out.write("\t\tvar name = $(\"#Name\").val().trim();\r\n");
      out.write("\t\tif (name != \"\" || name != null) {\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl : \"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${basePath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("/EMP/queryEmpCount\",\r\n");
      out.write("\t\t\t\ttype : \"get\",\r\n");
      out.write("\t\t\t\tdata : \"name=\" + name,\r\n");
      out.write("\t\t\t\tsuccess : function(result) {\r\n");
      out.write("\t\t\t\t\tif (result.code == 200) {\r\n");
      out.write("\t\t\t\t\t\talert(\"对不起，该名称已经存在！\");\r\n");
      out.write("\t\t\t\t\t\tbool = false;\r\n");
      out.write("\t\t\t\t\t\treturn false;\r\n");
      out.write("\t\t\t\t\t} else if (result.code == 100) {\r\n");
      out.write("\t\t\t\t\t\tbool = true;\r\n");
      out.write("\t\t\t\t\t\treturn true;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t/* 更新员工信息 */\r\n");
      out.write("\t$(\"#update_emp\").click(function(){\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//验证年龄\r\n");
      out.write("\t\tvar age = $(\"#updateAge\").val().trim();\r\n");
      out.write("\t\tvar regAge = /^[0-9]*$/;\r\n");
      out.write("\t\tif (age == \"\" || age == null) {\r\n");
      out.write("\t\t\talert(\"年龄不能为空！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t} else if (regAge.test(age) == false) {\r\n");
      out.write("\t\t\talert(\"格式不正确，年龄必须是数字！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t} else if (age < 18 || age > 60) {\r\n");
      out.write("\t\t\talert(\"员工年龄必须在18~60岁之间！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//验证邮箱\r\n");
      out.write("\t\tvar email = $(\"#updateEmail\").val().trim();\r\n");
      out.write("\t\t/* 合法E-mail地址：     \r\n");
      out.write("\t\t1. 必须包含一个并且只有一个符号“@”     \r\n");
      out.write("\t\t2. 第一个字符不得是“@”或者“.”     \r\n");
      out.write("\t\t3. 不允许出现“@.”或者.@     \r\n");
      out.write("\t\t4. 结尾不得是字符“@”或者“.”     \r\n");
      out.write("\t\t5. 允许“@”前的字符中出现“＋”     \r\n");
      out.write("\t\t6. 不允许“＋”在最前面，或者“＋@” */\r\n");
      out.write("\t\tvar regEmail = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\r\n");
      out.write("\t\tif (email != \"\" && email != null) {\r\n");
      out.write("\t\t\tif (regEmail.test(email) == false) {\r\n");
      out.write("\t\t\t\talert(\"您输入的邮箱有误,请重新核对后再输入!\");\r\n");
      out.write("\t\t\t\t$(\"#email\").focus();\r\n");
      out.write("\t\t\t\treturn false;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//验证部门\r\n");
      out.write("\t\tvar deptName = $(\"#updateDepts\").val().trim();\r\n");
      out.write("\t\tif (deptName == 0) {\r\n");
      out.write("\t\t\talert(\"请选择部门名称！\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
